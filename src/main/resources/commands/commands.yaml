- name: ping
  description: Checks the Bot's Gateway Ping.
  handler: de.lightbolt.meeting.systems.commands.PingCommand

- name: uptime
  description: Checks the Bot's Uptime.
  handler: de.lightbolt.meeting.systems.commands.UptimeCommand

- name: meeting
  description: Commands that allows users create and list Meetings.
  subCommands:
    - name: create
      description: Create a new Meeting.
    - name: list
      description: List all your Meetings.
    - name: start
      description: Start a meeting manually.
      options:
        - name: meeting-id
          description: The meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
    - name: end
      description: End a meeting manually.
      options:
        - name: meeting-id
          description: The meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
  handler: de.lightbolt.meeting.systems.meeting.MeetingCommandHandler


- name: manage-meeting
  description: Command for managing Meetings.
  subCommands:
    - name: edit
      description: Edit an existing Meeting.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER

    - name: discard
      description: Discards a single Meeting.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER

    - name: add-participant
      description: Add participants to your Meeting.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
        - name: user-1
          description: The user you want to add.
          required: true
          autocomplete: false
          type: USER
        - name: user-2
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-3
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-4
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-5
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-6
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-7
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-8
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER
        - name: user-9
          description: The user you want to add.
          required: false
          autocomplete: false
          type: USER

    - name: remove-participant
      description: Remove participants.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
        - name: user
          description: The user you want to remove.
          required: true
          autocomplete: false
          type: USER

    - name: add-admin
      description: Add admins to your Meeting.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
        - name: user
          description: The user you want to add.
          required: true
          autocomplete: false
          type: USER

    - name: remove-admin
      description: Remove Admins.
      options:
        - name: meeting-id
          description: The Meeting's id.
          required: true
          autocomplete: true
          type: INTEGER
        - name: user
          description: The user you want to remove.
          required: true
          autocomplete: false
          type: USER
  handler: de.lightbolt.meeting.systems.meeting.MeetingManageCommandHandler

    # /db-admin
- name: db-admin
  description: Administrative tools for managing the server's database.
  enabledByDefault: false
  privileges:
    - type: ROLE
      id: moderation.adminRoleId
  subCommands:
   # /db-admin export-schema
    - name: export-schema
      description: Exports the current database schema to an SQL file.
      options:
        - name: include-data
          description: Should data be included in the export?
          required: true
          type: BOOLEAN

   # /db-admin export-table
    - name: export-table
      description: Exports the a single database table to an SQL file.
      options:
        - name: table
          description: The database table you want to export
          required: true
          type: STRING
          choices:
            - name: Meetings
              value: MEETINGS
        - name: include-data
          description: Should data be included in the export?
          required: true
          type: BOOLEAN

   # /db-admin migrations-list
    - name: migrations-list
      description: Show a list of all database migrations that can be run.

   # /db-admin migrate
    - name: migrate
      description: Run a database migration.
      options:
        - name: name
          description: The name of the migration to run.
          required: true
          type: STRING
  handler: de.lightbolt.meeting.data.h2db.commands.DbAdminCommandHandler